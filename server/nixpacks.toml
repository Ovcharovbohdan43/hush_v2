# Nixpacks configuration for Railway
# Railway will use this to build the Rust project

[phases.setup]
providers = ["rust"]

[phases.install]
cmds = [
  "rustup toolchain install nightly",
  "rustup default nightly",
  "rustc --version",
  "cargo --version",
  "cargo build --release"
]

[phases.build]
cmds = [
  "rustc --version",
  "cargo --version",
  "cargo build --release"
]

[start]
cmd = "./target/release/hush-v2-server"

