# Nixpacks configuration for Railway
# Railway will use this to build the Rust project

[phases.setup]
nixPkgs = ["rustc", "cargo"]
# Use Rust 1.82+ to support edition2024
providers = ["rust"]

[phases.install]
cmds = [
  "rustup default stable",
  "cargo build --release"
]

[start]
cmd = "./target/release/hush-v2-server"

